library(lme4)
library(car)
library(lmerTest)
library(tidyverse)
library(ragg)
library(HLMdiag)
library(VCA)
library(hrbrthemes)
library(ggResidpanel)
library(sjPlot)
install.packages(c("lme4", "car", "lmerTest", "lmerTest",
"tidyverse", "ragg", "HLMdiag", "VCA",
"hrbrthemes", "ggResidpanel", "sjPlot"))
1+1
library(lme4)
library(car)
library(lmerTest)
library(tidyverse)
library(ragg)
library(HLMdiag)
library(VCA)
library(hrbrthemes)
library(ggResidpanel)
library(sjPlot)
df = read_csv("../clean_data/free_labeling_emotion_uw_students_long_format_lmer.csv")
head(df)
df %>%  ggplot(aes(x=sentimentScore)) +
geom_histogram(fill="#1f77b4") +
theme_ipsum()
by.sex <- df %>%
ggplot( aes(x=sentimentScore, fill=sex)) +
geom_histogram( color="#e9ecef", alpha=0.6, position = 'identity') +
scale_fill_manual(values=c("#1f77b4", "#ff7f0e")) +
theme_ipsum() +
stat_bin(bins=20) +
labs(fill="")
by.sex
by.age <- df %>%
ggplot( aes(x=sentimentScore, fill=age)) +
geom_histogram( color="#e9ecef", alpha=0.6, position = 'identity') +
scale_fill_manual(values=c("#69b3a2", "#404080")) +
theme_ipsum() +
stat_bin(bins=20) +
labs(fill="")
by.age
by.ethnicity <- df %>%
ggplot( aes(x=sentimentScore, fill=ethnicity)) +
geom_histogram( color="#5e6162", alpha=0.6, position = 'identity') +
scale_fill_manual(values=c("#69b3a2", "#404080")) +
theme_ipsum() +
stat_bin(bins=20) +
labs(fill="")
by.ethnicity
df %>%
group_by(participantId) %>%
summarise_at(vars(sentimentScore), list(name = mean)) %>%
ggplot(aes(x=name)) +
geom_histogram(color="#5e6162", fill="#66a3a3") +
theme_ipsum()
df %>%
group_by(photoId) %>%
summarise_at(vars(sentimentScore), list(name = mean)) %>%
ggplot(aes(x=name)) +
geom_histogram(color="#5e6162", fill="#66a3a3") +
theme_ipsum()
control=lmerControl(optimizer ="Nelder_Mead", calc.derivs=FALSE, optCtrl=list(maxfun=2e6), check.nobs.vs.nRE = "ignore")
control=lmerControl(optimizer ="Nelder_Mead", calc.derivs=FALSE,optCtrl=list(maxfun=2e6),check.nobs.vs.nRE = "ignore")
m2<-lmer(
sentimentScore ~ 1 + sexC*ethnicityC + (1 + sexC*ethnicityC|participantId),
data = df,
control=control)
summary(m2)
tab_model(m2)
## Type III anova table with p-values for F-tests based on Satterthwaite's
## method:
(aov <- anova(m2))
tab_model(aov)
install.packages("webshot")
library(webshot)
tab_model(m2, file = "lmer_summary_forced_uw_students.html")
tab_model(m2, file = "lmer_outout/lmer_summary_forced_uw_students.html")
tab_model(m2, file = "lmer_outout\lmer_summary_forced_uw_students.html")
rstudioapi::getActiveDocumentContext()$path
tab_model(m2, file = "lmer_outout\\lmer_summary_forced_uw_students.html")
getwd()
tab_model(m2, file = "lmer_outout/lmer_summary_forced_uw_students.html")
tab_model(m2, file = "lmer_output/lmer_summary_forced_uw_students.html")
webshot("lmer_output/lmer_summary_forced.html", "lmer_output/lmer_summary_forced.png")
webshot::install_phantomjs()
webshot("lmer_output/lmer_summary_forced.html", "lmer_output/lmer_summary_forced.png")
webshot("lmer_output/lmer_summary_forced_uw_students.html", "lmer_output/lmer_summary_forced_uw_students.html.png")
tab_model(m2, file = "lmer_output/lmer_summary_forced_uw_students.html")
webshot("lmer_output/lmer_summary_forced_uw_students.html", "lmer_output/lmer_summary_forced_uw_students.html.png")
webshot("lmer_output/lmer_summary_forced_uw_students.html", "lmer_output/lmer_summary_forced_uw_students.png")
tab_model(m2, file = "lmer_summary_forced_uw_students.html")
webshot("lmer_summary_forced_uw_students.html",
"lmer_summary_forced_uw_students.png")
getwd()
webshot("\\\\wsl$/Ubuntu-20.04/home/pablo_ubuntu/emo-categorization/notebooks/lmer_summary_forced_uw_students.html",
"lmer_summary_forced_uw_students.png")
webshot("file://///wsl$/Ubuntu-20.04/home/pablo_ubuntu/emo-categorization/notebooks/lmer_summary_forced_uw_students.html",
"lmer_summary_forced_uw_students.png")
install.packages("magick")
library(magick)
tiger <- image_read_svg('lmer_output/lmer_summary_forced_uw_students.html', width = 350)
tab_model(m2, file = "../../emotions_dashboard/data/lmer_output/lmer_summary_forced_uw_students.html")
tab_model(m2, file = "../../emotions_dashboard/data/lmer_summary_forced_uw_students.html")
tab_model(aov)
kable(aov, digits = 3, format = "pandoc", caption = "ANOVA table")
install.packages("knitr")
install.packages("knitr")
install.packages("knitr")
install.packages("knitr")
kable(aov, digits = 3, format = "pandoc", caption = "ANOVA table")
library(knitr)
kable(aov, digits = 3, format = "pandoc", caption = "ANOVA table")
print(xtable(aov.apa), type = "html")
install.packages("xtable")
require(xtable)
aov.apa <- kable(aov, digits = 3, format = "pandoc", caption = "ANOVA table")
aov.apa
print(xtable(aov.apa), type = "html")
install.packages("kableExtra")
print(xtable(aov), type = "html")
kbl(aov)
(aov <- anova(m2))
aov.apa <- kable(aov, digits = 3, format = "html", caption = "ANOVA table")
aov.apa
aov.apa %>% cat(., file = "anova_lmer_summary_forced_uw_students.html.html")
kable(aov, digits = 3, format = "html", caption = "ANOVA table") %>% cat(., file = "anova_lmer_summary_forced_uw_students.html.html")
cat(aov.apa, file = "anova_lmer_summary_forced_uw_students.html.html")
aov.apa <- kable(aov, digits = 3, format = "html", caption = "ANOVA table for LMER coefficients")
aov.apa <- kable(aov, digits = 3, format = "html", caption = "ANOVA table for LMER coefficients")
cat(aov.apa, file = "lmer_output/anova_lmer_summary_forced_uw_students.html.html")
cat(aov.apa, file = "../../emotions_dashboard/data/anova_lmer_summary_forced_uw_students.html.html")
cat(aov.apa, file = "../../emotions_dashboard/data/anova_lmer_summary_forced_uw_students.html")
